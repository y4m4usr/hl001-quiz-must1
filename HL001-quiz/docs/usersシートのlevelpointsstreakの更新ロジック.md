usersシートのlevel/points/streakの更新ロジック

スコア計算方法

正答率：1問正答毎に10%加算 満点で100%
ボーナスポイント：100点 
ヒント使用で50点 タイムボーナスで1問20秒の回答時間中、早い回答ほどボーナスポイント

出題数：10問

1,正答率が一番重要 100%で満点
2 一問につきヒント1 ［カラコンSPEC （DIA、G.DIA、BC）］ヒント2 ［カラコンPRする際の一言コメント］が存在する
3、1問につき20秒の制限時間がある

出題数：10問

目的：カラコンを見ただけでどの種類か理解し、スタッフにゲーミフィケーションを通じて最短で商品知識の向上を促すことが目的
他社とランキングを通して競い合い、向上心を促す

1,正答率が一番重要 100%で満点
2 一問につき・ヒント1 ［カラコンSPEC （DIA、G.DIA、BC）］
・ヒント2 ［カラコンPRする際の一言コメント］が存在し、ユーザーは自由意志でヒントを見るか決定出来る
最大ヒント数20個
3、1問につき20秒の制限時間がある
最大回答時間200秒

4、誤答した場合はヒントボーナスもタイムボーナスも無し
5、正答した場合のみボーナスポイントを加算する

###ゲーミフィケーション設計案
1. ポイントシステムの再定義
現在のpointsを**「累計EXP（経験値）」と位置づけ、それに加えてランキング用の「ランクポイント（RP）」**という概念を導入します。

ポイント種類	役割と特徴
累計EXP	・レベルアップに使用する永続的なポイント。 ・プレイすればするほど貯まり、消えることはない。 ・あなたの知識と経験の総量を示します。
ランクポイント(RP)	・週間/月間ランキングを決定するための期間限定ポイント。 ・期間終了後にリセットされる。 ・今、どれだけ集中して頑張っているかを示します。


【目的】
この設計により、古参スタッフは「レベル」という形でこれまでの努力が評価され、新人スタッフでも「今月のランキング」で上位を狙えるため、全員が常に目標を持てるようになります。

2. ポイント獲得ロジック
① デイリーテスト
一日一回の腕試しの場として、最も多くのポイントを獲得できます。

獲得EXP: 正答率 + ボーナスポイント (最大200EXP)

獲得RP: 正答率 + ボーナスポイント (最大200RP)

Streakボーナス: streak（連続プレイ日数）に応じて、その日の獲得EXPにボーナス倍率がかかります。

2日連続: × 1.1倍

3日連続: × 1.2倍

...

7日連続以上: × 1.5倍 (上限)

② 練習モード
知識の定着を目的とし、報酬は控えめに設定します。

獲得EXP: 正答率 ÷ 10 (最大10EXP)

獲得RP: 0 (ランキングには影響しません)

3. レベル設定ロジック
レベルアップに必要な経験値を、レベルが上がるほど大きくなるように設計し、成長している実感と次の目標への挑戦心を刺激します。

レベルアップに必要な累計EXP
現在のレベル	次のレベルに必要な累計EXP
1 → 2	200 EXP
2 → 3	450 EXP
3 → 4	750 EXP
4 → 5	1,100 EXP
...	...
9 → 10	4,000 EXP
...	...
19 → 20	15,000 EXP

(参考計算式: 次のレベルに必要なEXP ≒ (現在のレベル ^ 1.5) * 100 + 前のレベルまでの必要EXP)

レベルアップ時の報酬
レベルが上がった際の達成感を演出するため、**「称号」**を付与します。

レベル	称号
1	カラコンルーキー
5	レンズエキスパート
10	カラーマイスター
20	マスターオブコンタクト
30	伝説のカラコンクイーン

**「称号」**は一覧を別シートで管理、条件と名称を記載すればアプリに実装出来るようにしたい



この計算式でいくとレベル30に到達するのに最短で何日で到達できますか？

計算しました。提示されたロジックでレベル30に到達するには、最短でおよそ118日かかります。

以下にその計算ロジックを解説します。

計算の前提
必要な総経験値（EXP）の算出:
ご提示のレベルアップ表（Lv10で4,000、Lv20で15,000）を基に、レベル30で必要となる累計EXPを推定すると、およそ35,000 EXPとなります。

一日で獲得できる最大EXPの算出:
最短での到達を目指すため、毎日以下の最高成績を収めることを前提とします。

基礎EXP: 正答率100点 + ボーナス100点 = 200 EXP

Streakボーナス: 連続プレイ日数に応じて、以下の通り獲得EXPが増加し、7日目以降は最大の1.5倍になります。

1日目: 200 × 1.0倍 = 200 EXP

2日目: 200 × 1.1倍 = 220 EXP

3日目: 200 × 1.2倍 = 240 EXP

4日目: 200 × 1.3倍 = 260 EXP

5日目: 200 × 1.4倍 = 280 EXP

6日目: 200 × 1.5倍 = 300 EXP

7日目以降: 200 × 1.5倍 = 300 EXP （毎日）

到達日数の計算ステップ
最初の6日間で獲得するEXP:
Streakボーナスが最大になるまでの6日間で獲得できるEXPを合計します。
200 + 220 + 240 + 260 + 280 + 300 = 1,500 EXP

残りの必要EXPを計算:
レベル30に必要な総EXPから、最初の6日分を引きます。
35,000 EXP - 1,500 EXP = 33,500 EXP

残り日数を計算:
7日目以降は毎日300 EXPを獲得できるため、残りの必要EXPを300で割ります。
33,500 EXP ÷ 300 EXP/日 ≒ 111.66日
日数は繰り上げとなるため、112日かかります。

合計日数を算出:
最初の6日間に、残りの112日間を足します。
6日 + 112日 = 118日

したがって、毎日欠かさず最高の成績を収めた場合、約4ヶ月でレベル30に到達できる計算になります。








